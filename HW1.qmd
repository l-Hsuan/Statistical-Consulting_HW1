---
title: "Titanic Data Analysis (Homework1)"
author: "I-Hsuan Wu"
date: today
format:
 pdf:
    include-in-header:
      - text: |
         \usepackage{setspace,relsize}
         \usepackage{geometry}
         \geometry{verbose,tmargin=2.5cm,bmargin=2.5cm,lmargin=2.5cm,rmargin=2.5cm}
#mainfont: "Microsoft JhengHei UI"
#mainfont: "Microsoft JhengHei"
mainfont: "Microsoft JhengHei Bold"
toc: true # ç‚ºäº†èƒ½å¯«ç¹é«”ä¸­æ–‡
lang: zh-Tw
documentclass: article
pdf-engine: xelatex
execute:
  tidy: true
  echo: true # é¡¯ç¤ºcodeéƒ¨åˆ†
  warning: false
  message: false
---

ğŸ“‚ **ä½œæ¥­ GitHub é€£çµ**ï¼š[Statistical-Consulting_HW1](https://github.com/l-Hsuan/Statistical-Consulting_HW1.git)

```{r setup, include=FALSE}
library(tidyverse)
```

# 1. è®€å– Titanic æ•¸æ“šé›†ï¼Œä¸¦æŸ¥çœ‹æ•¸æ“šçµæ§‹

```{r}
df <- read.csv("C:/Users/user/Desktop/çµ±è¨ˆè«®è©¢/HW1/titanic.csv")
```


*ä¸‹è¡¨é¡¯ç¤ºäº† Titanic æ•¸æ“šé›†çš„çµæ§‹å’ŒåŸºæœ¬çµ±è¨ˆè³‡è¨Šï¼ŒåŒ…æ‹¬è®Šæ•¸çš„é¡å‹èˆ‡é€£çºŒå‹è®Šæ•¸çš„æ•¸å€¼åˆ†å¸ƒã€‚*

```{r}
str(df)
summary(df)
```

*ä¸‹é¢é¡¯ç¤ºäº†å„é¡åˆ¥è®Šæ•¸çš„é¡åˆ¥åˆ†å¸ƒæƒ…æ³ï¼Œä¾‹å¦‚ç”Ÿé‚„äººæ•¸ã€ä¸åŒè‰™ç­‰ä¹˜å®¢æ¯”ä¾‹ã€æ€§åˆ¥æ¯”ä¾‹ç­‰ï¼Œä»¥ç­è§£ä¹˜å®¢çš„åŸºæœ¬åˆ†ä½ˆã€‚*

```{r}
table(df$Survived)
table(df$Pclass)
table(df$Sex)
table(df$Embarked)
```

# 2.è¦–è¦ºåŒ–
##  2.1ä¹˜å®¢äººå£çµ±è¨ˆåˆ†æ
### 2.1.1 ä¹˜å®¢å¹´é½¡åˆ†å¸ƒ
```{r}
ggplot(df, aes(x = Age)) + 
  geom_histogram(binwidth = 5, fill = "steelblue", color = "white") + 
  labs(title = "ä¹˜å®¢å¹´é½¡åˆ†å¸ƒ", x = "å¹´é½¡", y = "äººæ•¸")
```
_å¤§éƒ¨åˆ†ä¹˜å®¢çš„å¹´é½¡é›†ä¸­åœ¨20-30æ­²ä¹‹é–“ï¼Œè¡¨ç¤ºè©²å¹´é½¡å±¤ä½”å¤šæ•¸ã€‚_

### 2.1.2 å¹´é½¡èˆ‡æ€§åˆ¥çš„é—œè¯æ€§
```{r}
ggplot(df, aes(x = Age, fill = Sex)) + 
  geom_density(alpha = 0.5) + 
  labs(title = "å¹´é½¡ vs. æ€§åˆ¥åˆ†å¸ƒ", x = "å¹´é½¡", y = "å¯†åº¦", fill = "æ€§åˆ¥")
```
_æ­¤åœ–é¡¯ç¤ºç”·æ€§èˆ‡å¥³æ€§çš„å¹´é½¡åˆ†å¸ƒã€‚è‹¥å¥³æ€§å¹´é½¡æ•´é«”è¼ƒå°ï¼Œå‰‡å¯èƒ½å½±éŸ¿å…¶ç”Ÿå­˜ç‡è¼ƒé«˜çš„çµæœã€‚_

```{r}
ggplot(df, aes(x = Age, fill = Sex)) + 
  geom_histogram(binwidth = 5, position = "dodge", alpha = 0.7) + 
  labs(title = "å¹´é½¡åˆ†å¸ƒæ¯”è¼ƒï¼šç”·æ€§ vs. å¥³æ€§", x = "å¹´é½¡", y = "äººæ•¸", fill = "æ€§åˆ¥")
```
_æ­¤åœ–æ¯”è¼ƒä¸åŒå¹´é½¡å±¤çš„ç”·å¥³ä¹˜å®¢äººæ•¸ï¼Œåœ¨20æ­²ä»¥å¾Œï¼Œç”·æ€§çš„äººæ•¸æ˜é¡¯é«˜æ–¼å¥³æ€§ï¼Œä¸”åœ¨65æ­²ä»¥ä¸Šï¼Œå¹¾ä¹æ²’æœ‰å¥³æ€§ã€‚ã€‚_

## 2.2 ç”Ÿå­˜ç‡åˆ†æ
### 2.2.1 è‰™ç­‰èˆ‡ç”Ÿå­˜ç‡
```{r}
ggplot(df, aes(x = Pclass, fill = as.factor(Survived))) + 
  geom_bar(position = "fill") + 
  labs(title = "ç”Ÿå­˜ç‡ vs. è‰™ç­‰", y = "æ¯”ä¾‹", x = "è‰™ç­‰", fill = "å­˜æ´»")
```
_ä¸€ç­‰è‰™ä¹˜å®¢çš„ç”Ÿå­˜ç‡æœ€é«˜ï¼Œè€Œä¸‰ç­‰è‰™çš„ç”Ÿå­˜ç‡æœ€ä½ï¼Œé¡¯ç¤ºè‰™ç­‰èˆ‡ç”Ÿå­˜æ©Ÿç‡æœ‰é¡¯è‘—é—œè¯ã€‚_

### 2.2.2 æ€§åˆ¥èˆ‡ç”Ÿå­˜ç‡
```{r}
ggplot(df, aes(x = Sex, fill = as.factor(Survived))) + 
  geom_bar(position = "fill") + 
  labs(title = "ç”Ÿå­˜ç‡ vs. æ€§åˆ¥", y = "æ¯”ä¾‹", x = "æ€§åˆ¥", fill = "å­˜æ´»")
```
_å¥³æ€§çš„ç”Ÿå­˜ç‡æ˜é¡¯é«˜æ–¼ç”·æ€§ã€‚_

### 2.2.3 è‰™ç­‰ã€æ€§åˆ¥èˆ‡ç”Ÿå­˜ç‡
```{r}
ggplot(df, aes(x = Pclass, fill = as.factor(Survived))) + 
  geom_bar(position = "fill") + 
  facet_wrap(~Sex) +
  labs(title = "ç”Ÿå­˜ç‡ vs. è‰™ç­‰ vs. æ€§åˆ¥", y = "æ¯”ä¾‹")
```
_ä¸åŒæ€§åˆ¥èˆ‡è‰™ç­‰çš„ç”Ÿå­˜ç‡é¡¯ç¤ºï¼šå¥³æ€§åœ¨æ‰€æœ‰è‰™ç­‰çš„ç”Ÿå­˜ç‡éƒ½æ˜é¡¯é«˜æ–¼ç”·æ€§ï¼Œç‰¹åˆ¥æ˜¯ä¸€ç­‰è‰™å¥³æ€§ç”Ÿå­˜ç‡æœ€é«˜ï¼Œè€Œä¸‰ç­‰è‰™ç”·æ€§ç”Ÿå­˜ç‡æœ€ä½ã€‚_

### 2.2.4 å¹´é½¡èˆ‡ç”Ÿå­˜ç‡
```{r}
ggplot(df, aes(x = Age, fill = as.factor(Survived))) + 
  geom_density(alpha = 0.5) + 
  labs(title = "ç”Ÿå­˜è€…èˆ‡éç”Ÿå­˜è€…çš„å¹´é½¡åˆ†å¸ƒ", x = "å¹´é½¡", y = "å¯†åº¦", fill = "å­˜æ´»")
```
_å¹´é½¡èˆ‡ç”Ÿå­˜ç‡çš„é—œè¯é¡¯ç¤ºï¼šå¹´é½¡è¼ƒå°çš„ä¹˜å®¢ç”Ÿå­˜ç‡è¼ƒé«˜ï¼Œè€Œå¹´é½¡è¼ƒå¤§çš„ä¹˜å®¢ç”Ÿå­˜ç‡å‰‡è¼ƒä½ã€‚_

## 2.3 å…¶ä»–å½±éŸ¿å› ç´ 
### 2.3.1 è‰™ç­‰èˆ‡ç¥¨åƒ¹åˆ†å¸ƒ
```{r}
ggplot(df, aes(x = Pclass, y = Fare, fill = as.factor(Pclass))) + 
  geom_boxplot() + 
  labs(title = "è‰™ç­‰èˆ‡ç¥¨åƒ¹åˆ†å¸ƒ", x = "è‰™ç­‰", y = "ç¥¨åƒ¹")
```
_ç¥¨åƒ¹çš„ç®±å‹åœ–é¡¯ç¤ºï¼Œä¸€ç­‰è‰™çš„ç¥¨åƒ¹é«˜æ–¼äºŒã€ä¸‰ç­‰è‰™ï¼Œé¡¯ç¤ºè‰™ç­‰èˆ‡ç¥¨åƒ¹ä¹‹é–“çš„å·®ç•°ã€‚_

### 2.3.2 ç™»èˆ¹æ¸¯å£èˆ‡ç”Ÿå­˜ç‡
```{r}
ggplot(df, aes(x = Embarked, fill = as.factor(Survived))) + 
  geom_bar(position = "fill") + 
  labs(title = "ç”Ÿå­˜ç‡ vs. ç™»èˆ¹æ¸¯å£", y = "æ¯”ä¾‹", x = "ç™»èˆ¹æ¸¯å£", fill = "å­˜æ´»")
```
_å¾ç™»èˆ¹æ¸¯å£ä¾†çœ‹ï¼Œå¾Cæ¸¯ï¼ˆCherbourgï¼‰ç™»èˆ¹çš„ä¹˜å®¢ç”Ÿå­˜ç‡æœ€é«˜ã€‚(å› ç‚ºæœªçŸ¥çš„ç™»èˆ¹å£è³‡æ–™å¾å‰é¢çš„é¡åˆ¥çµæ§‹ä¾†çœ‹åªæœ‰å…©ç­†ï¼Œæ‰€ä»¥å…ˆå¿½ç•¥)_

# 3. çµ±è¨ˆæè¿°èˆ‡çµè«–
- **å¹´é½¡åˆ†å¸ƒ**ï¼šå¤§å¤šæ•¸ä¹˜å®¢å¹´é½¡é›†ä¸­åœ¨20-30æ­²ï¼Œä¸”65æ­²ä»¥ä¸Šå¹¾ä¹éƒ½æ˜¯ç”·æ€§ä¹˜å®¢ï¼Œå­©ç«¥çš„ç”Ÿå­˜ç‡è¼ƒé«˜ã€‚
- **æ€§åˆ¥å½±éŸ¿**ï¼šå¥³æ€§çš„ç”Ÿå­˜ç‡é¡¯è‘—é«˜æ–¼ç”·æ€§ã€‚
- **è‰™ç­‰å½±éŸ¿**ï¼šä¸€ç­‰è‰™ä¹˜å®¢çš„ç”Ÿå­˜ç‡é é«˜æ–¼äºŒã€ä¸‰ç­‰è‰™ã€‚
- **ç¥¨åƒ¹èˆ‡è‰™ç­‰**ï¼šä¸€ç­‰è‰™çš„ç¥¨åƒ¹é«˜æ–¼äºŒã€ä¸‰ç­‰è‰™ã€‚
- **ç™»èˆ¹æ¸¯å£å½±éŸ¿**ï¼šCæ¸¯ï¼ˆCherbourgï¼‰ç™»èˆ¹çš„ä¹˜å®¢ç”Ÿå­˜ç‡æœ€é«˜ã€‚

_ä»¥ä¸Šçµæœé¡¯ç¤º Titanic äº‹æ•…çš„ç”Ÿå­˜æ©Ÿç‡å¯èƒ½å—åˆ°å¤šç¨®å› ç´ å½±éŸ¿ï¼ŒåŒ…æ‹¬æ€§åˆ¥ã€è‰™ç­‰ã€å¹´é½¡ã€ç¥¨åƒ¹èˆ‡ç™»èˆ¹æ¸¯å£ç­‰ã€‚_

